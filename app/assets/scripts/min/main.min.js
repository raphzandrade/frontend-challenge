"use strict";function build(){var e=new XMLHttpRequest;e.open("GET","http://localhost:4200/api/cabeleireiros",!0),e.onload=function(){var t=JSON.parse(this.response);e.status>=200&&e.status<400?formBuilder(t):error()},e.send()}function formBuilder(e){var t=document.getElementsByTagName("body")[0],a=document.createElement("div");a.setAttribute("id","home");var n=document.createElement("div");n.classList.add("container");var d=document.createElement("form");d.setAttribute("id","form"),n.appendChild(d),a.appendChild(n),t.appendChild(a);const i=document.createElement("div");i.setAttribute("id","requestFields"),i.classList.add("active"),d.appendChild(i);const s=document.createElement("div");s.setAttribute("id","userFields"),d.appendChild(s),e._embedded.request_fields.forEach(e=>{insertField(e,i)}),e._embedded.user_fields.forEach(e=>{insertField(e,s)});const r=document.createElement("button");r.type="button",r.addEventListener("click",()=>{changeTabs(i,s)}),r.textContent="Buscar Profissionais",i.appendChild(r);const c=document.createElement("button");c.type="submit",c.textContent="Solicitar serviço",s.appendChild(c)}function insertField(e,t){const a=document.createElement("div");a.setAttribute("class","ninjaInput");const n=document.createElement("label");var d;switch(n.innerText=e.label,a.appendChild(n),e.type){case"enumerable":d=document.createElement("select");const t=document.createElement("option");t.text=e.mask,t.value="",d.add(t),Object.keys(e.values).forEach(t=>{const a=document.createElement("option");a.text=e.values[t],a.value=e.values[t],d.add(a)});break;case"big_text":(d=document.createElement("input")).type="text",d.classList.add("bigText");break;case"small_text":(d=document.createElement("input")).classList.add("smallText");break;case"cep":d=document.createElement("input");break;case"email":(d=document.createElement("input")).setAttribute("type","email");break;case"phone":d=document.createElement("input")}if(e.name&&(d.name=e.name),e.placeholder&&(d.placeholder=e.placeholder),e.required){var i=document.createElement("span");i.classList.add("errorMsg"),i.textContent="Este campo é requerido",a.appendChild(i),d.required=!0,d.addEventListener("blur",()=>{showValidationErrorMsg(d,i)})}a.appendChild(d),t.appendChild(a)}function changeTabs(e,t){e.classList.remove("active"),t.classList.add("active")}function error(){var e=document.createElement("form"),t=document.createElement("h1");t.textContent="Houve um erro ao carregar a página. Por favor tente novamente mais tarde",e.appendChild(t),document.getElementsByTagName("body")[0].appendChild(t)}function showValidationErrorMsg(e,t){e.checkValidity()?(t.classList.remove("invalid"),e.classList.remove("invalid")):(t.classList.add("invalid"),e.classList.add("invalid"))}