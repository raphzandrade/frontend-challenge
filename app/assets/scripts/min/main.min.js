"use strict";function build(){var e=new XMLHttpRequest;e.open("GET","http://localhost:4200/api/cabeleireiros",!0),e.onload=function(){var t=JSON.parse(this.response);e.status>=200&&e.status<400?formBuilder(t):error()},e.send()}function formBuilder(e){var t=document.getElementsByTagName("body")[0],a=document.createElement("div");a.setAttribute("id","home");var n=document.createElement("div");n.classList.add("container");var s=document.createElement("form");s.setAttribute("id","form"),n.appendChild(s),a.appendChild(n),t.appendChild(a);const r=document.createElement("div");r.setAttribute("id","requestFields"),r.classList.add("active"),s.appendChild(r);const i=document.createElement("div");i.setAttribute("id","userFields"),s.appendChild(i),e._embedded.request_fields.forEach(e=>{insertField(e,r)}),e._embedded.user_fields.forEach(e=>{insertField(e,i)});const d=document.createElement("button");d.type="button",d.addEventListener("click",()=>{var e=document.getElementsByName("Qual será o serviço?")[0],t=document.getElementsByName("Para quando você precisa deste serviço?")[0];if(e.checkValidity()&&t.checkValidity())changeTabs(r,i);else{var a=document.getElementsByClassName("errorMsg")[0],n=document.getElementsByClassName("errorMsg")[1];showValidationErrorMsg(e,a),showValidationErrorMsg(t,n)}}),d.textContent="Buscar Profissionais",r.appendChild(d);const c=document.createElement("button");c.type="submit",c.textContent="Solicitar serviço",i.appendChild(c)}function insertField(e,t){const a=document.createElement("div");a.setAttribute("class","ninjaInput");const n=document.createElement("label");var s;switch(n.innerText=e.label,a.appendChild(n),e.type){case"enumerable":s=document.createElement("select");const t=document.createElement("option");t.text=e.mask,t.value="",s.add(t),Object.keys(e.values).forEach(t=>{const a=document.createElement("option");a.text=e.values[t],a.value=e.values[t],s.add(a)});break;case"big_text":(s=document.createElement("input")).type="text",s.classList.add("bigText");break;case"small_text":(s=document.createElement("input")).classList.add("smallText");break;case"cep":(s=document.createElement("input")).setAttribute("pattern","[0-9]{5}-?[0-9]{3}");break;case"email":(s=document.createElement("input")).setAttribute("type","email");break;case"phone":(s=document.createElement("input")).setAttribute("type","tel"),s.setAttribute("pattern","^[0-9-+s()]*$")}if(e.name&&(s.name=e.name),e.placeholder&&(s.placeholder=e.placeholder),e.required){var r=document.createElement("span");r.classList.add("errorMsg"),r.textContent="Este campo é requerido",a.appendChild(r),s.required=!0,s.addEventListener("blur",()=>{showValidationErrorMsg(s,r)})}a.appendChild(s),t.appendChild(a)}function changeTabs(e,t){e.classList.remove("active"),t.classList.add("active")}function error(){var e=document.createElement("form"),t=document.createElement("h1");t.textContent="Houve um erro ao carregar a página. Por favor tente novamente mais tarde",e.appendChild(t),document.getElementsByTagName("body")[0].appendChild(t)}function showValidationErrorMsg(e,t){e.checkValidity()?(t.classList.remove("invalid"),e.classList.remove("invalid")):(t.classList.add("invalid"),e.classList.add("invalid"))}